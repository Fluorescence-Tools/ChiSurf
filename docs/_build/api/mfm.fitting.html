

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mfm.fitting package &mdash; ChiSurf  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ChiSurf
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_documentation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_documentation/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_documentation/tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_documentation/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_documentation/use_cases.html">Use cases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ChiSurf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>mfm.fitting package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/mfm.fitting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mfm-fitting-package">
<h1>mfm.fitting package<a class="headerlink" href="#mfm-fitting-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mfm.fitting.optimization.html">mfm.fitting.optimization package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mfm.fitting.optimization.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mfm.fitting.optimization.html#mfm-fitting-optimization-fnnls-module">mfm.fitting.optimization.fnnls module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mfm.fitting.optimization.html#mfm-fitting-optimization-leastsqbound-module">mfm.fitting.optimization.leastsqbound module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mfm.fitting.optimization.html#mfm-fitting-optimization-mem-module">mfm.fitting.optimization.mem module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mfm.fitting.optimization.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="mfm-fitting-error-estimate-module">
<h2>mfm.fitting.error_estimate module<a class="headerlink" href="#mfm-fitting-error-estimate-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mfm.fitting.fit">
<span id="mfm-fitting-fit-module"></span><h2>mfm.fitting.fit module<a class="headerlink" href="#module-mfm.fitting.fit" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mfm.fitting.fit.Fit">
<em class="property">class </em><code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">Fit</code><span class="sig-paren">(</span><em class="sig-param">model_class=&lt;class 'type'&gt;</em>, <em class="sig-param">data=None</em>, <em class="sig-param">xmin=0</em>, <em class="sig-param">xmax=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mfm.base.Base</span></code></p>
<dl class="method">
<dt id="mfm.fitting.fit.Fit.chi2">
<em class="property">property </em><code class="sig-name descname">chi2</code><a class="headerlink" href="#mfm.fitting.fit.Fit.chi2" title="Permalink to this definition">¶</a></dt>
<dd><p>Unreduced Chi2</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.chi2_scan">
<code class="sig-name descname">chi2_scan</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">parameter_name: 'str'</em>, <em class="sig-param">rel_range: 'float' = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; 'Tuple[np.array, np.array]'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.chi2_scan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.chi2_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a chi2-scan on a parameter of the fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the parameter name</p></li>
<li><p><strong>rel_range</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – defines the scanning range as a fraction of the current value, e.g., for a</p></li>
</ul>
</dd>
</dl>
<p>value of 2.0 a rel_range of 0.5 scans from (2.0 - 2.0*0.5) to (2.0 + 2.0*0.5)
:param kwargs:
:rtype: <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[&lt;built-in function array&gt;, &lt;built-in function array&gt;]
:return: an list containing arrays of the chi2 and the parameter-values</p>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.chi2r">
<em class="property">property </em><code class="sig-name descname">chi2r</code><a class="headerlink" href="#mfm.fitting.fit.Fit.chi2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduced Chi2</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.covariance_matrix">
<em class="property">property </em><code class="sig-name descname">covariance_matrix</code><a class="headerlink" href="#mfm.fitting.fit.Fit.covariance_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the covariance matrix of the fit given the current
models parameter values and returns a list of the ‘relevant’ used
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[&lt;built-in function array&gt;, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#mfm.fitting.fit.Fit.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.fit_range">
<em class="property">property </em><code class="sig-name descname">fit_range</code><a class="headerlink" href="#mfm.fitting.fit.Fit.fit_range" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.get_chi2">
<code class="sig-name descname">get_chi2</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">parameter=None</em>, <em class="sig-param">model: 'mfm.models.model.Model' = None</em>, <em class="sig-param">reduced: 'bool' = True</em><span class="sig-paren">)</span> &#x2192; 'float'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.get_chi2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.get_chi2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.get_wres">
<code class="sig-name descname">get_wres</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">parameter=None</em>, <em class="sig-param">model=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.get_wres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.get_wres" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.grad">
<em class="property">property </em><code class="sig-name descname">grad</code><a class="headerlink" href="#mfm.fitting.fit.Fit.grad" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the approximate gradient at the current parameter values
:rtype: &lt;built-in function array&gt;
:return:</p>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.model">
<em class="property">property </em><code class="sig-name descname">model</code><a class="headerlink" href="#mfm.fitting.fit.Fit.model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.n_free">
<em class="property">property </em><code class="sig-name descname">n_free</code><a class="headerlink" href="#mfm.fitting.fit.Fit.n_free" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of free parameters of the models</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#mfm.fitting.fit.Fit.name" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; 'None'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.run" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">filename: 'str'</em>, <em class="sig-param">file_type: 'str' = 'txt'</em>, <em class="sig-param">verbose: 'bool' = False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; 'None'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.save" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; 'None'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#Fit.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.Fit.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.weighted_residuals">
<em class="property">property </em><code class="sig-name descname">weighted_residuals</code><a class="headerlink" href="#mfm.fitting.fit.Fit.weighted_residuals" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;built-in function array&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.xmax">
<em class="property">property </em><code class="sig-name descname">xmax</code><a class="headerlink" href="#mfm.fitting.fit.Fit.xmax" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.Fit.xmin">
<em class="property">property </em><code class="sig-name descname">xmin</code><a class="headerlink" href="#mfm.fitting.fit.Fit.xmin" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mfm.fitting.fit.FitGroup">
<em class="property">class </em><code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">FitGroup</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">model_class=&lt;class 'type'&gt;</em>, <em class="sig-param">model_kw=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#FitGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.FitGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <a class="reference internal" href="#mfm.fitting.fit.Fit" title="mfm.fitting.fit.Fit"><code class="xref py py-class docutils literal notranslate"><span class="pre">mfm.fitting.fit.Fit</span></code></a></p>
<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.chi2r">
<em class="property">property </em><code class="sig-name descname">chi2r</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.chi2r" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduced Chi2</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.fit_range">
<em class="property">property </em><code class="sig-name descname">fit_range</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.fit_range" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.model">
<em class="property">property </em><code class="sig-name descname">model</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.next">
<code class="sig-name descname">next</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#FitGroup.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.FitGroup.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">local_first: 'bool' = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#FitGroup.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.FitGroup.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes the free parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>local_first</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>]) – if True the local parameters of a global-fit in a</p>
</dd>
</dl>
<p>fit group are optimized first
:param kwargs:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.selected_fit">
<em class="property">property </em><code class="sig-name descname">selected_fit</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.selected_fit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#mfm.fitting.fit.Fit" title="mfm.fitting.fit.Fit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fit</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.selected_fit_index">
<em class="property">property </em><code class="sig-name descname">selected_fit_index</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.selected_fit_index" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span> &#x2192; 'None'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#FitGroup.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.FitGroup.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.weighted_residuals">
<em class="property">property </em><code class="sig-name descname">weighted_residuals</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.weighted_residuals" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.xmax">
<em class="property">property </em><code class="sig-name descname">xmax</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.xmax" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mfm.fitting.fit.FitGroup.xmin">
<em class="property">property </em><code class="sig-name descname">xmin</code><a class="headerlink" href="#mfm.fitting.fit.FitGroup.xmin" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.approx_grad">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">approx_grad</code><span class="sig-paren">(</span><em class="sig-param">xk: 'np.array'</em>, <em class="sig-param">fit: 'mfm.fitting.fit.Fit'</em>, <em class="sig-param">epsilon: 'float'</em>, <em class="sig-param">args=()</em>, <em class="sig-param">f0=None</em><span class="sig-paren">)</span> &#x2192; 'Tuple[float, np.array]'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#approx_grad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.approx_grad" title="Permalink to this definition">¶</a></dt>
<dd><p>Approximate the derivative of a fit with respect to the parameters
xk. The return value of the function is an array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xk</strong> (<em>&lt;built-in function array&gt;</em>) – values around which gradient is estimated. These values should</p>
</dd>
</dl>
<p>be an array of length of the free fitting parameters
:type fit: <a class="reference internal" href="#mfm.fitting.fit.Fit" title="mfm.fitting.fit.Fit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fit</span></code></a>
:param fit: object of type ‘Fit’
:type epsilon: <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>
:param epsilon: differential change
:param args: additional arguments passed to ‘Fit.get_wres’
:param f0: weighted residuals for the values xk
:rtype: <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, &lt;built-in function array&gt;]
:return:</p>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.covariance_matrix">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">covariance_matrix</code><span class="sig-paren">(</span><em class="sig-param">fit: 'mfm.fitting.fit.Fit'</em>, <em class="sig-param">epsilon: 'float' = 1.4901161193847656e-08</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; 'Tuple[np.array, List[int]]'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#covariance_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.covariance_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the covariance matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit</strong> (<a class="reference internal" href="#mfm.fitting.fit.Fit" title="mfm.fitting.fit.Fit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fit</span></code></a>) – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[&lt;built-in function array&gt;, <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the covariance matrix and a list of of parameter indices which</p>
</dd>
</dl>
<p>are “important”, i.e., have a partial derivative deviating from zero.</p>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.get_chi2">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">get_chi2</code><span class="sig-paren">(</span><em class="sig-param">parameter: 'List[float]'</em>, <em class="sig-param">model: 'mfm.models.model.ModelCurve'</em>, <em class="sig-param">reduced: 'bool' = True</em><span class="sig-paren">)</span> &#x2192; 'float'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#get_chi2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.get_chi2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns either the reduced chi2 or the sum of squares (chi2)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameter</strong> – a list of the parameter values or None. If None the models</p>
</dd>
</dl>
<p>is not updated
:param model:
:param reduced: If True the returned value is divided by
(n_points - n_free - 1.0) where n_points is the number of data points
and n_free is the number of model parameters
:return:</p>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.get_wres">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">get_wres</code><span class="sig-paren">(</span><em class="sig-param">parameter: 'List[float]'</em>, <em class="sig-param">model: 'mfm.models.model.Model'</em><span class="sig-paren">)</span> &#x2192; 'np.array'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#get_wres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.get_wres" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the weighted residuals for a list of parameters of a models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameter</strong> – a list of the parameter values / or None. If None</p>
</dd>
</dl>
<p>the models is not updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.lnprior">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">lnprior</code><span class="sig-paren">(</span><em class="sig-param">parameter_values: 'List[float]'</em>, <em class="sig-param">fit: 'mfm.fitting.fit.Fit'</em>, <em class="sig-param">bounds: 'List[Tuple[float</em>, <em class="sig-param">float]]' = None</em><span class="sig-paren">)</span> &#x2192; 'float'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#lnprior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.lnprior" title="Permalink to this definition">¶</a></dt>
<dd><p>The probability determined by the prior which is given by the bounds
of the models parameters. If the models parameters leave the bounds, the
ln of the probability is minus infinity otherwise it is zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.lnprob">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">lnprob</code><span class="sig-paren">(</span><em class="sig-param">parameter_values: 'List[float]'</em>, <em class="sig-param">fit: 'Fit'</em>, <em class="sig-param">chi2max: 'float' = inf</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; 'float'<a class="reference internal" href="../_modules/mfm/fitting/fit.html#lnprob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.lnprob" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter_values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – </p></li>
<li><p><strong>fit</strong> (<a class="reference internal" href="#mfm.fitting.fit.Fit" title="mfm.fitting.fit.Fit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fit</span></code></a>) – </p></li>
<li><p><strong>chi2max</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.fit.sample_fit">
<code class="sig-prename descclassname">mfm.fitting.fit.</code><code class="sig-name descname">sample_fit</code><span class="sig-paren">(</span><em class="sig-param">fit: 'Fit'</em>, <em class="sig-param">filename: 'str'</em>, <em class="sig-param">method: 'str' = 'emcee'</em>, <em class="sig-param">steps: 'int' = 1000</em>, <em class="sig-param">thin: 'int' = 1</em>, <em class="sig-param">chi2max: 'float' = inf</em>, <em class="sig-param">n_runs: 'int' = 10</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mfm/fitting/fit.html#sample_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.fit.sample_fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mfm.fitting">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mfm.fitting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mfm.fitting.calculate_weighted_residuals">
<code class="sig-prename descclassname">mfm.fitting.</code><code class="sig-name descname">calculate_weighted_residuals</code><span class="sig-paren">(</span><em class="sig-param">data: 'mfm.experiments.data.DataCurve'</em>, <em class="sig-param">model: 'mfm.curve.Curve'</em>, <em class="sig-param">xmin: 'int'</em>, <em class="sig-param">xmax: 'int'</em><span class="sig-paren">)</span> &#x2192; 'np.array'<a class="reference internal" href="../_modules/mfm/fitting.html#calculate_weighted_residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.calculate_weighted_residuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the weighted residuals for a DataCurve and a
model curve given the range as provided by xmin and xmax. The
weighted residuals are given by (data - model) / weights. Here,
the weights are the errors of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the experimental data</p></li>
<li><p><strong>model</strong> – the model</p></li>
<li><p><strong>xmin</strong> – minimum index</p></li>
<li><p><strong>xmax</strong> – maximum index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy array containing the weighted residuals</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mfm.fitting.find_fit_idx_of_model">
<code class="sig-prename descclassname">mfm.fitting.</code><code class="sig-name descname">find_fit_idx_of_model</code><span class="sig-paren">(</span><em class="sig-param">model: 'mfm.models.model.Model'</em>, <em class="sig-param">fits: 'List[mfm.fitting.fit.Fit]'</em><span class="sig-paren">)</span> &#x2192; 'int'<a class="reference internal" href="../_modules/mfm/fitting.html#find_fit_idx_of_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mfm.fitting.find_fit_idx_of_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns index of the fit of a model in mfm.fits array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – </p></li>
<li><p><strong>fits</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Thomas Peulen

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>